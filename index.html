<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Mertero | Benutzerverwaltung</title>
    <link href="style.css" rel="stylesheet">
    <script src="jquery.js"></script>
    <script src="loadData.js"></script>
</head>
<body>
    <div id="container">
        <div class="navigation">
            <ul>
                <li class="currentNav" onClick="loadErstellen()">Erstellen</li>
                <li onClick="loadBearbeiten()">Bearbeiten</li>
                <li onClick="loadEntfernen()">Entfernen</li>
            </ul>
            <button class="bt-sync">Synchronisieren</button>
         </div>

        <div id="widget"></div>
    </div>

    <script>

    $(document).ready(function(){
        // Sicherheitscookie setzen und abfragen. Ansonsten wird Benutzerverwaltung nicht geladen
        loadErstellen();
    })

    $('.navigation ul li').click(function(){
        if($(this).attr('class') != 'currentNav'){
            $('.navigation ul li').parent().find('li').removeClass('currentNav');
            $(this).attr('class','currentNav');
        }
    });

    $('#m_licBasic').click(function(){
        if($('#m_licPremium').prop('checked') == true){$('#m_licPremium').prop('checked', false);}
    });

    $('#m_licPremium').click(function(){
        if($('#m_licBasic').prop('checked') == true){$('#m_licBasic').prop('checked', false);}
    });



    function clearAll() {
        $('#m_vn').val('');
        $('#m_nn').val('');
        $('#m_dw').val('');
        $('#m_mn').val('');
        $('#m_licBasic').prop('checked',false);
        $('#m_licPremium').prop('checked',false);
    }

    function checkData() {
        // regex for Durchwahl and Mobile Nummer only numbers
        // regex for Vorname and Nachname, only Letters and Symbols

    }

    function sendData() {
        // Get Data
        const vn = $('#m_vn').val(); // Erhalte Vorname
        const nn = $('#m_nn').val(); // Erhalte Nachname
        const dw = $('#m_dw').val(); // Erhalte Durchwahl
        const mn = $('#m_mn').val(); // Erhalte Mobile-Nummer


        const vorgesetzter = $('#vorgesetzter').val();  // Erhalte Selektierten Vorgesetzten
        const firma = $('#firma').val();                // Erhalte Selektierte Firma
        const standort = $('#standort').val();          // Erhalte Selektierten Standort

        var lic = 0; // Lizenz 0 = keine | 1 = Basic | 2 = Premium

        // Erhalte Lizenz, falls ausgewählt wurde
        if($('#m_licBasic').prop('checked'))
        {
            lic = 1;
        } else if($('#m_licPremium').prop('checked'))
        {
            lic = 2;
        } else 
        {
            lic = 0;
        }


        // Alle Gruppen durchgehen und ausgewählte Gruppen in ein Array speichern





        console.log(vn + "-" + nn + "-" + dw + "-" + mn + "-" + vorgesetzter + "-" + firma + "-" + standort + "-" + lic);
    }





    
    </script>

</body>
</html>