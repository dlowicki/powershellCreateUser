<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Mertero | Benutzerverwaltung</title>
    <link href="style.css" rel="stylesheet">
    <script src="jquery.js"></script>
    <script src="loadData.js"></script>
</head>
<body>
    <div id="container">
        <div class="navigation">
            <ul>
                <li class="currentNav" onClick="location.reload()">Eintritt</li>
                <li onClick="loadBearbeiten()">Austritt</li>
            </ul>
         </div>
        <div id="widget"></div>
    </div>

    <script>

    $(document).ready(function(){
        // Sicherheitscookie setzen und abfragen. Ansonsten wird Benutzerverwaltung nicht geladen
    });
    
    $(document).on('change','#cs1 input', function(){
        var m_vn = $('#m_vn').val(); var m_nn = $('#m_nn').val(); var m_date = $('#m_date').val();
        if(m_vn.length > 2 && m_nn.length > 2 && m_date.length != 0) {
            if($('#cs1-headline img').length == false){ $('#cs1-headline').append('<img src="check-solid.svg" id="check-1">'); }
        } else { $('#cs1-headline img').remove(); }
    });

    $(document).on('change','#cs2 select', function(){
        var abt = $('#abteilung').val();
        if(abt != 'Keine Abteilung') {
            if($('#cs2-headline img').length == false){ $('#cs2-headline').append('<img src="check-solid.svg" id="check-1">'); }
        } else { $('#cs2-headline img').remove(); }
    });

    $(document).on('change','#cs6 input', function(){
        var abt = $('#abteilung').val();
        if(abt != 'Keine Abteilung') {
            if($('#cs2-headline img').length == false){ $('#cs2-headline').append('<img src="check-solid.svg" id="check-1">'); }
        } else { $('#cs2-headline img').remove(); }
    });

    $(document).on('click','#cb_lizenz input',function(event){ 
        const checked = $('#'+event.target.id).prop('checked');
        if(checked == true) { 
            $('.officeLic').prop('checked', false); 
            $('#'+event.target.id).prop('checked', true);
            if($('#cs6-headline img').length == false){ $('#cs6-headline').append('<img src="check-solid.svg" id="check-6">'); }
        } else { 
            $('#'+event.target.id).prop('checked', false); $('#cs6-headline img').remove();
        }
    });

    $('.navigation ul li').click(function(){
        if($(this).attr('class') != 'currentNav'){
            $('.navigation ul li').parent().find('li').removeClass('currentNav');
            $(this).attr('class','currentNav');
        }
    });




    function checkData() {
        // regex for Durchwahl and Mobile Nummer only numbers
        // regex for Vorname and Nachname, only Letters and Symbols
    }

    function sendData() {
        // Get Data
        const vn = $('#m_vn').val(); // Erhalte Vorname
        const nn = $('#m_nn').val(); // Erhalte Nachname
        const dw = $('#m_dw').val(); // Erhalte Durchwahl
        const mn = $('#m_mn').val(); // Erhalte Mobile-Nummer


        const vorgesetzter = $('#vorgesetzter').val();  // Erhalte Selektierten Vorgesetzten
        const firma = $('#firma').val();                // Erhalte Selektierte Firma
        const standort = $('#standort').val();          // Erhalte Selektierten Standort

        var lic = 0; // Lizenz 0 = keine | 1 = Basic | 2 = Premium

        // Erhalte Lizenz, falls ausgewählt wurde
        if($('#m_licBasic').prop('checked'))
        {
            lic = 1;
        } else if($('#m_licPremium').prop('checked'))
        {
            lic = 2;
        } else 
        {
            lic = 0;
        }


        // Alle Gruppen durchgehen und ausgewählte Gruppen in ein Array speichern





        console.log(vn + "-" + nn + "-" + dw + "-" + mn + "-" + vorgesetzter + "-" + firma + "-" + standort + "-" + lic);
    }





    
    </script>

</body>
</html>